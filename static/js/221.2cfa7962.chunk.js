"use strict";(self.webpackChunkpayspin_casino=self.webpackChunkpayspin_casino||[]).push([[221],{92221:function(e,t,n){n.r(t);var i=n(80184),a=n(72791),o=n(13967),r=n(36314),s=n(20890),c=n(77196),d=n(63466),l=n(36151),u=n(72466),m=n(90388),x=n(64554),h=n(4349),p=n(88890),f=n.n(p),b=n(55331),Z=n(71294),g=n(10311),j=n(69089),w=n(97012),v=n(58117),y=n(57596),k=n(94771),C=function(){return C=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},C.apply(this,arguments)},N=["blue","yellow"];t.default=function(){var e=(0,j.I0)(),t=(0,o.Z)(),n=(0,j.v9)((function(e){return e.auth})),p=n.user,S=n.currency,B=n.isLoggedIn,I=(0,a.useState)(!1),R=I[0],W=I[1],z=(0,a.useState)(""),O=z[0],P=z[1],Y=(0,a.useState)("blue"),_=Y[0],H=Y[1];return(0,a.useEffect)((function(){(null===S||void 0===S?void 0:S.minBet)&&P(S.minBet)}),[S]),(0,i.jsxs)(r.Z,C({className:"game-container game-coinflip",sx:{flexDirection:"row","@media (max-width:767px)":{flexDirection:"column"}}},{children:[(0,i.jsxs)(r.Z,C({sx:{boxShadow:Z.ZP.boxShadow,p:2,width:"300px","@media (max-width:767px)":{width:"100%"}}},{children:[(0,i.jsxs)(r.Z,C({direction:"row",justifyContent:"space-between"},{children:[(0,i.jsx)(s.Z,{children:(0,i.jsx)(h.Z,{id:"Bet Amount"})}),(0,i.jsxs)(s.Z,{children:["$",(0,y.H)(Number(O)*S.price,5,!0)]})]})),(0,i.jsx)(c.Z,{id:"amount",size:"small",type:"number",sx:{boxShadow:Z.ZP.boxShadow,width:"100%",borderRadius:1,mt:1,pr:0,"& fieldset":{borderWidth:"2px",borderRadius:1,borderTopRightRadius:0,borderBottomRightRadius:0}},value:O||"",onChange:function(e){return P(e.target.value)},endAdornment:(0,i.jsxs)(d.Z,C({position:"end"},{children:[(0,i.jsx)("img",{width:"16px",src:null===S||void 0===S?void 0:S.icon,alt:"icon",style:{marginRight:"5px"}}),(0,i.jsxs)(r.Z,C({direction:"row",spacing:.5,px:1},{children:[(0,i.jsx)(l.Z,C({sx:{background:t.palette.dark[600],width:"25px",height:"25px",minWidth:"auto",minHeight:"auto"},onClick:function(){return P(Number(O)/2)}},{children:"\xbd"})),(0,i.jsx)(l.Z,C({sx:{background:t.palette.dark[600],width:"25px",height:"25px",minWidth:"auto",minHeight:"auto"},onClick:function(){return P(2*Number(O))}},{children:"2\xd7"}))]}))]}))}),(0,i.jsx)(r.Z,C({direction:"row",justifyContent:"space-between",flexWrap:"wrap",mt:1},{children:(0,i.jsx)(u.Z,C({size:"small",color:"primary",fullWidth:!0,exclusive:!0,value:_,onChange:function(e,t){H(t)}},{children:N.map((function(e,n){return(0,i.jsx)(m.Z,C({value:e,disabled:R,sx:{border:"".concat(t.palette.dark[600]," solid 2px"),boxShadow:Z.ZP.boxShadow}},{children:(0,i.jsx)(h.Z,{id:e})}),n)}))}))})),B?(0,i.jsx)(l.Z,C({fullWidth:!0,variant:"contained",color:"primary",sx:{mt:1},disabled:R||!_,onClick:function(){var e=Number(O);e<Number(S.minBet)&&e>Number(S.maxBet)?(0,v.Z)("Maximum bet ".concat(S.maxBet," ").concat(S.symbol," minimum bet ").concat(S.minBet," ").concat(S.symbol,".")):(W(!0),w.Z.post("api/v2/games/turn",{gameId:"coinflip",userId:p._id,currency:S._id,amount:O,color:_}).then((function(e){var t=e.data,n=t.index;f()("[data-coin]").attr("class","coin ".concat(n));var i=b.ZP.timeline({onComplete:function(){(0,k.X1)(t),W(!1)}});i.set(".game-content-coinflip",{perspective:400,transformStyle:"preserve3d"}),i.fromTo("[data-coin]",.4,{rotationY:-720},{rotationY:-190,z:120,ease:"easeOut"}),i.to("[data-coin]",{duration:.1,rotationY:-170,ease:"easeOut"}),i.to("[data-coin]",{duration:.4,rotationY:0,z:-15,ease:"easeIn"}),i.to("[data-coin]",{duration:.1,z:0,ease:"easeIn"})})).catch((function(){W(!1)})))}},{children:(0,i.jsx)(h.Z,{id:"Bet"})})):(0,i.jsx)(l.Z,C({fullWidth:!0,disabled:R,variant:"contained",color:"primary",sx:{mt:1},onClick:function(){return e((0,g.cC)("login"))}},{children:(0,i.jsx)(h.Z,{id:"Sign in"})}))]})),(0,i.jsx)(r.Z,C({sx:{background:t.palette.dark[500],position:"relative",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},{children:(0,i.jsx)(x.Z,C({className:"game-content game-content-coinflip"},{children:(0,i.jsxs)(x.Z,C({className:"coin front","data-coin":!0},{children:[(0,i.jsx)(x.Z,{className:"front"}),(0,i.jsx)(x.Z,{className:"back"})]}))}))}))]}))}}}]);
//# sourceMappingURL=221.2cfa7962.chunk.js.map