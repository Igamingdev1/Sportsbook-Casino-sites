{"version":3,"file":"static/js/221.2cfa7962.chunk.js","mappings":"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","sources":["views/casino/Coinflip.tsx"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\r\nimport { useEffect, useState } from 'react';\r\nimport { useTheme, Box, Button, InputAdornment, OutlinedInput, Stack, ToggleButton, ToggleButtonGroup, Typography } from '@mui/material';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport $ from 'jquery';\r\nimport gsap from 'gsap';\r\nimport config from 'config';\r\nimport { ChangePage } from 'store/reducers/menu';\r\nimport { useDispatch, useSelector } from 'store';\r\nimport Axios from 'utils/axios';\r\nimport snackbar from 'utils/snackbar';\r\nimport { toNumber } from 'utils/number';\r\nimport { resultPopup } from 'utils/games';\r\nvar BLUE = 'blue';\r\nvar YELLOW = 'yellow';\r\nvar colors = [BLUE, YELLOW];\r\nvar CoinFlip = function () {\r\n    var dispatch = useDispatch();\r\n    var theme = useTheme();\r\n    var _a = useSelector(function (state) { return state.auth; }), user = _a.user, currency = _a.currency, isLoggedIn = _a.isLoggedIn;\r\n    var _b = useState(false), loading = _b[0], setLoading = _b[1];\r\n    var _c = useState(''), amount = _c[0], setAmount = _c[1];\r\n    var _d = useState('blue'), color = _d[0], setColor = _d[1];\r\n    var onPlay = function () {\r\n        var betAmount = Number(amount);\r\n        if (betAmount < Number(currency.minBet) && betAmount > Number(currency.maxBet)) {\r\n            snackbar(\"Maximum bet \".concat(currency.maxBet, \" \").concat(currency.symbol, \" minimum bet \").concat(currency.minBet, \" \").concat(currency.symbol, \".\"));\r\n            return;\r\n        }\r\n        setLoading(true);\r\n        Axios.post('api/v2/games/turn', {\r\n            gameId: 'coinflip',\r\n            userId: user._id,\r\n            currency: currency._id,\r\n            amount: amount,\r\n            color: color\r\n        })\r\n            .then(function (_a) {\r\n            var data = _a.data;\r\n            var side = data.index;\r\n            $('[data-coin]').attr('class', \"coin \".concat(side));\r\n            var i = gsap.timeline({\r\n                onComplete: function () {\r\n                    resultPopup(data);\r\n                    setLoading(false);\r\n                }\r\n            });\r\n            i.set('.game-content-coinflip', { perspective: 400, transformStyle: 'preserve3d' });\r\n            i.fromTo('[data-coin]', 0.4, { rotationY: -720 }, { rotationY: -190, z: 120, ease: 'easeOut' });\r\n            i.to('[data-coin]', { duration: 0.1, rotationY: -170, ease: 'easeOut' });\r\n            i.to('[data-coin]', { duration: 0.4, rotationY: 0, z: -15, ease: 'easeIn' });\r\n            i.to('[data-coin]', { duration: 0.1, z: 0, ease: 'easeIn' });\r\n        })\r\n            .catch(function () {\r\n            setLoading(false);\r\n        });\r\n    };\r\n    var handleChange = function (event, param) {\r\n        setColor(param);\r\n    };\r\n    useEffect(function () {\r\n        if (currency === null || currency === void 0 ? void 0 : currency.minBet) {\r\n            setAmount(currency.minBet);\r\n        }\r\n    }, [currency]);\r\n    return (_jsxs(Stack, __assign({ className: \"game-container game-coinflip\", sx: {\r\n            flexDirection: 'row',\r\n            '@media (max-width:767px)': {\r\n                flexDirection: 'column'\r\n            }\r\n        } }, { children: [_jsxs(Stack, __assign({ sx: {\r\n                    boxShadow: config.boxShadow,\r\n                    p: 2,\r\n                    width: '300px',\r\n                    '@media (max-width:767px)': {\r\n                        width: '100%'\r\n                    }\r\n                } }, { children: [_jsxs(Stack, __assign({ direction: \"row\", justifyContent: \"space-between\" }, { children: [_jsx(Typography, { children: _jsx(FormattedMessage, { id: \"Bet Amount\" }) }), _jsxs(Typography, { children: [\"$\", toNumber(Number(amount) * currency.price, 5, true)] })] })), _jsx(OutlinedInput, { id: \"amount\", size: \"small\", type: \"number\", sx: {\r\n                            boxShadow: config.boxShadow,\r\n                            width: '100%',\r\n                            borderRadius: 1,\r\n                            mt: 1,\r\n                            pr: 0,\r\n                            '& fieldset': {\r\n                                borderWidth: '2px',\r\n                                borderRadius: 1,\r\n                                borderTopRightRadius: 0,\r\n                                borderBottomRightRadius: 0\r\n                            }\r\n                        }, value: amount || '', onChange: function (e) { return setAmount(e.target.value); }, endAdornment: _jsxs(InputAdornment, __assign({ position: \"end\" }, { children: [_jsx(\"img\", { width: \"16px\", src: currency === null || currency === void 0 ? void 0 : currency.icon, alt: \"icon\", style: { marginRight: '5px' } }), _jsxs(Stack, __assign({ direction: \"row\", spacing: 0.5, px: 1 }, { children: [_jsx(Button, __assign({ sx: {\r\n                                                background: theme.palette.dark[600],\r\n                                                width: '25px',\r\n                                                height: '25px',\r\n                                                minWidth: 'auto',\r\n                                                minHeight: 'auto'\r\n                                            }, onClick: function () { return setAmount(Number(amount) / 2); } }, { children: \"\\u00BD\" })), _jsx(Button, __assign({ sx: {\r\n                                                background: theme.palette.dark[600],\r\n                                                width: '25px',\r\n                                                height: '25px',\r\n                                                minWidth: 'auto',\r\n                                                minHeight: 'auto'\r\n                                            }, onClick: function () { return setAmount(Number(amount) * 2); } }, { children: \"2\\u00D7\" }))] }))] })) }), _jsx(Stack, __assign({ direction: \"row\", justifyContent: \"space-between\", flexWrap: \"wrap\", mt: 1 }, { children: _jsx(ToggleButtonGroup, __assign({ size: \"small\", color: \"primary\", fullWidth: true, exclusive: true, value: color, onChange: handleChange }, { children: colors.map(function (item, key) { return (_jsx(ToggleButton, __assign({ value: item, disabled: loading, sx: {\r\n                                    border: \"\".concat(theme.palette.dark[600], \" solid 2px\"),\r\n                                    boxShadow: config.boxShadow\r\n                                } }, { children: _jsx(FormattedMessage, { id: item }) }), key)); }) })) })), isLoggedIn ? (_jsx(Button, __assign({ fullWidth: true, variant: \"contained\", color: \"primary\", sx: { mt: 1 }, disabled: loading || !color, onClick: onPlay }, { children: _jsx(FormattedMessage, { id: \"Bet\" }) }))) : (_jsx(Button, __assign({ fullWidth: true, disabled: loading, variant: \"contained\", color: \"primary\", sx: { mt: 1 }, onClick: function () { return dispatch(ChangePage('login')); } }, { children: _jsx(FormattedMessage, { id: \"Sign in\" }) })))] })), _jsx(Stack, __assign({ sx: {\r\n                    background: theme.palette.dark[500],\r\n                    position: 'relative',\r\n                    width: '100%',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center'\r\n                } }, { children: _jsx(Box, __assign({ className: \"game-content game-content-coinflip\" }, { children: _jsxs(Box, __assign({ className: \"coin front\", \"data-coin\": true }, { children: [_jsx(Box, { className: \"front\" }), _jsx(Box, { className: \"back\" })] })) })) }))] })));\r\n};\r\nexport default CoinFlip;\r\n"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","colors","dispatch","useDispatch","theme","useTheme","_a","useSelector","state","auth","user","currency","isLoggedIn","_b","useState","loading","setLoading","_c","amount","setAmount","_d","color","setColor","useEffect","minBet","_jsxs","Stack","className","sx","flexDirection","children","boxShadow","config","width","direction","justifyContent","_jsx","Typography","FormattedMessage","id","toNumber","Number","price","OutlinedInput","size","type","borderRadius","mt","pr","borderWidth","borderTopRightRadius","borderBottomRightRadius","value","onChange","e","target","endAdornment","InputAdornment","position","src","icon","alt","style","marginRight","spacing","px","Button","background","palette","dark","height","minWidth","minHeight","onClick","flexWrap","ToggleButtonGroup","fullWidth","exclusive","event","param","map","item","key","ToggleButton","disabled","border","concat","variant","betAmount","maxBet","snackbar","symbol","Axios","gameId","userId","_id","then","data","side","index","$","attr","gsap","onComplete","resultPopup","set","perspective","transformStyle","fromTo","rotationY","z","ease","to","duration","catch","ChangePage","display","alignItems","Box"],"sourceRoot":""}