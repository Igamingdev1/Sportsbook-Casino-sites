"use strict";(self.webpackChunkpayspin_casino=self.webpackChunkpayspin_casino||[]).push([[470],{85470:function(t,e,n){n.r(e);var a=n(80184),o=n(72791),i=n(13967),r=n(36314),c=n(20890),s=n(77196),l=n(63466),d=n(36151),u=n(72466),f=n(90388),p=n(64554),h=n(4349),m=n(88890),x=n.n(m),b=n(71294),g=n(69089),w=n(10311),k=n(97012),v=n(58117),j=n(57596),Z=n(94771),y=function(){return y=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},y.apply(this,arguments)},C={0:["#ffc000","#997300"],1:["#ffa808","#a16800"],2:["#ffa808","#a95b00"],3:["#ff9010","#a95b00"],4:["#ff7818","#914209"],5:["#ff6020","#b93500"],6:["#ff4827","#c01d00"],7:["#ff302f","#c80100"],8:["#ff1837","#91071c"],9:["#ff003f","#990026"]},S={8:[C[9],C[7],C[4],C[2],C[0],C[2],C[4],C[7],C[9]],9:[C[9],C[7],C[6],C[5],C[2],C[2],C[5],C[6],C[7],C[9]],10:[C[9],C[8],C[7],C[5],C[4],C[1],C[4],C[5],C[7],C[8],C[9]],11:[C[9],C[8],C[7],C[5],C[4],C[2],C[2],C[4],C[5],C[7],C[8],C[9]],12:[C[9],C[8],C[7],C[6],C[5],C[4],C[1],C[4],C[5],C[6],C[7],C[8],C[9]],13:[C[9],C[8],C[7],C[6],C[5],C[4],C[2],C[2],C[4],C[5],C[6],C[7],C[8],C[9]],14:[C[9],C[8],C[7],C[6],C[5],C[4],C[3],C[2],C[3],C[4],C[5],C[6],C[7],C[8],C[9]],15:[C[9],C[8],C[7],C[6],C[5],C[4],C[3],C[2],C[2],C[3],C[4],C[5],C[6],C[7],C[8],C[9]],16:[C[9],C[8],C[7],C[6],C[5],C[4],C[3],C[2],C[1],C[2],C[3],C[4],C[5],C[6],C[7],C[8],C[9]]},M={low:{8:[5.6,2.1,1.1,1,.5,1,1.1,2.1,5.6],10:[8.9,3,1.4,1.1,1,.5,1,1.1,1.4,3,8.9],12:[10,3,1.6,1.4,1.1,1,.5,1,1.1,1.4,1.6,3,10],14:[7.1,4,1.9,1.4,1.3,1.1,1,.5,1,1.1,1.3,1.4,1.9,4,7.1],16:[16,9,2,1.4,1.4,1.2,1.1,1,.5,1,1.1,1.2,1.4,1.4,2,9,16]},medium:{8:[13,3,1.3,.7,.4,.7,1.3,3,13],10:[22,5,2,1.4,.6,.4,.6,1.4,2,5,22],12:[33,11,4,2,1.1,.6,.3,.6,1.1,2,4,11,33],14:[58,15,7,4,1.9,1,.5,.2,.5,1,1.9,4,7,15,58],16:[110,41,1,5,3,1.5,1,.5,.3,.5,1,1.5,3,5,10,41,110]},high:{8:[29,4,1.5,.3,.2,.3,1.5,4,29],10:[76,10,3,.9,.3,.2,.3,.9,3,10,76],12:[170,24,8.1,2,.7,.3,.2,.3,.7,2,8.1,24,170],14:[420,56,18,5,1.9,.3,.2,.1,.2,.3,1.9,5,18,56,420],16:[1e3,130,26,9,4,2,.3,.2,.1,.2,.3,2,4,9,26,130,1e3]}},N=["low","medium","high"],B=[8,10,12,14,16],R=300;e.default=function(){var t=(0,g.I0)(),e=(0,i.Z)(),n=(0,g.v9)((function(t){return t.auth})),m=n.user,C=n.currency,W=n.isLoggedIn,q=(0,o.useState)(!1),I=q[0],P=q[1],A=(0,o.useState)(""),_=A[0],z=A[1],D=(0,o.useState)("low"),H=D[0],O=D[1],T=(0,o.useState)(8),E=T[0],L=T[1],X=function(t){var e=Math.floor(t.attr("step")),n=Math.floor(t.attr("delta")),a=x()(".plinkoContainer .plinko").find("[row='".concat(e,"'][pos='").concat(n,"']"));return{top:a.css("top"),left:a.css("left")}},$=function t(e){e.attr("step",Math.floor(e.attr("step"))+1);var n=Math.floor(e.attr("step"));if(n!==E+1){var a=Math.random()<.5?0:1,o=Math.floor(e.attr("target")),i=Math.floor(e.attr("delta"));i===o?a=0:E-n+1===o-i&&(a=1);var r=x()(".plinkoContainer .plinko").find("[row=".concat(n-1,"][pos=").concat(Math.floor(e.attr("delta")),"]"));r.addClass("pulsate"),setTimeout((function(){return r.removeClass("pulsate")}),700),e.attr("delta",Math.floor(e.attr("delta"))+a),e.removeAttr("heading").delay(30).queue((function(){e.attr("heading",a).dequeue()}));e.animate(X(e),R,(function(){t(e)}))}else e.removeAttr("heading").delay(30).queue((function(){e.attr("heading",2).dequeue()})).delay(R).queue((function(){e.remove().dequeue()}))};return(0,o.useEffect)((function(){!function(){x()(".plinkoContainer .plinko").empty();for(var t=0;t<=E;t+=1)for(var e=0;e<=t;e+=1){var n=.5+(e-t/2)/(E+2),a=1/(t===E?3:5)/(E+2),o=t===E,i=o?100*2.2*a:100*a,r={position:"absolute",top:"".concat((t+1)/(E+2)*100,"%"),left:"".concat(100*n,"%"),width:"".concat(i,"%"),height:"".concat(o?140*a:100*a,"%"),background:o?S[E][e][0]:"#66abf5","border-bottom":o?"".concat(i/2,"px solid ").concat(S[E][e][1]):"none",borderRadius:o?"3px":"50%",transform:"translate(-50%, -50%)"},c={row:t,pos:e},s=x()("<div>").css(r).attr(c).addClass(o?"bucket":"pin");o&&s.html("x".concat(M[H][E][e])),x()(".plinkoContainer .plinko").append(s)}}()}),[E,H]),(0,o.useEffect)((function(){(null===C||void 0===C?void 0:C.minBet)&&z(C.minBet)}),[C]),(0,a.jsxs)(r.Z,y({className:"game-container game-plinko",sx:{flexDirection:"row","@media (max-width:767px)":{flexDirection:"column"}}},{children:[(0,a.jsxs)(r.Z,y({sx:{boxShadow:b.ZP.boxShadow,p:2,width:"300px","@media (max-width:767px)":{width:"100%"}}},{children:[(0,a.jsxs)(r.Z,y({direction:"row",justifyContent:"space-between"},{children:[(0,a.jsx)(c.Z,{children:(0,a.jsx)(h.Z,{id:"Bet Amount"})}),(0,a.jsxs)(c.Z,{children:["$",(0,j.H)(Number(_)*C.price,5,!0)]})]})),(0,a.jsx)(s.Z,{id:"amount",size:"small",type:"number",sx:{boxShadow:b.ZP.boxShadow,width:"100%",borderRadius:1,mt:1,pr:0,"& fieldset":{borderWidth:"2px",borderRadius:1,borderTopRightRadius:0,borderBottomRightRadius:0}},value:_||"",onChange:function(t){return z(t.target.value)},endAdornment:(0,a.jsxs)(l.Z,y({position:"end"},{children:[(0,a.jsx)("img",{width:"16px",src:null===C||void 0===C?void 0:C.icon,alt:"icon",style:{marginRight:"5px"}}),(0,a.jsxs)(r.Z,y({direction:"row",spacing:.5,px:1},{children:[(0,a.jsx)(d.Z,y({sx:{background:e.palette.dark[600],width:"25px",height:"25px",minWidth:"auto",minHeight:"auto"},onClick:function(){return z(Number(_)/2)}},{children:"\xbd"})),(0,a.jsx)(d.Z,y({sx:{background:e.palette.dark[600],width:"25px",height:"25px",minWidth:"auto",minHeight:"auto"},onClick:function(){return z(2*Number(_))}},{children:"2\xd7"}))]}))]}))}),(0,a.jsx)(r.Z,y({direction:"row",justifyContent:"space-between",flexWrap:"wrap",mt:1},{children:(0,a.jsx)(u.Z,y({size:"small",color:"primary",fullWidth:!0,exclusive:!0,value:H,onChange:function(t,e){O(e)}},{children:N.map((function(t,n){return(0,a.jsx)(f.Z,y({value:t,disabled:I,sx:{border:"".concat(e.palette.dark[600]," solid 2px"),boxShadow:b.ZP.boxShadow}},{children:(0,a.jsx)(h.Z,{id:t})}),n)}))}))})),(0,a.jsx)(r.Z,y({direction:"row",justifyContent:"space-between",flexWrap:"wrap",mt:1},{children:(0,a.jsx)(u.Z,y({size:"small",color:"primary",fullWidth:!0,exclusive:!0,value:E,onChange:function(t,e){L(e)}},{children:B.map((function(t,n){return(0,a.jsx)(f.Z,y({value:t,disabled:I,sx:{border:"".concat(e.palette.dark[600]," solid 2px"),boxShadow:b.ZP.boxShadow}},{children:t}),n)}))}))})),W?(0,a.jsx)(d.Z,y({fullWidth:!0,variant:"contained",color:"primary",sx:{mt:1},disabled:I||!E||!H,onClick:function(){var t=Number(_);t<Number(C.minBet)&&t>Number(C.maxBet)?(0,v.Z)("Maximum bet ".concat(C.maxBet," ").concat(C.symbol," minimum bet ").concat(C.minBet," ").concat(C.symbol,".")):(P(!0),k.Z.post("api/v2/games/turn",{gameId:"plinko",userId:m._id,currency:C._id,amount:t,difficulty:H,pins:E}).then((function(t){var e=t.data,n=1/3/(E+2),a={position:"absolute",top:"".concat(-100*n,"%"),left:"50%",width:"".concat(100*n,"%"),height:"".concat(100*n,"%"),background:"hsl(".concat((0,Z.kk)(0,360),", 90%, 60%)"),borderRadius:"50%",animationDuration:"".concat(.3,"s"),transform:"translate(-50%, -125%)"},o={step:0,delta:0,target:e.target},i=x()("<div>").css(a).attr(o);x()(".plinkoContainer .plinko").append(i);i.animate(X(i),R,(function(){$(i)})),setTimeout((function(){P(!1),(0,Z.X1)(e)}),R*M[H][E].length+1e3)})).catch((function(){P(!1)})))}},{children:(0,a.jsx)(h.Z,{id:"Bet"})})):(0,a.jsx)(d.Z,y({fullWidth:!0,disabled:I,variant:"contained",color:"primary",sx:{mt:1},onClick:function(){return t((0,w.cC)("login"))}},{children:(0,a.jsx)(h.Z,{id:"Sign in"})}))]})),(0,a.jsx)(r.Z,y({sx:{background:e.palette.dark[500],position:"relative",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},{children:(0,a.jsx)(p.Z,y({className:"game-content game-content-plinko"},{children:(0,a.jsx)(p.Z,y({className:"plinkoContainer"},{children:(0,a.jsx)(p.Z,{className:"plinko"})}))}))}))]}))}}}]);
//# sourceMappingURL=470.6d58ab4e.chunk.js.map